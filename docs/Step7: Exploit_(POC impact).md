For the last step, we only need to combine all the previous steps, replacing the values of the payload that we already created and updated at the end of step 5. To demonstrate the functionality and the impact, we will switch from the root user we were using for the demonstration to an unprivileged user.

**Suppose we have obtained access to a computer as the unprivileged user kali.**

<img width="388" height="129" alt="1" src="https://github.com/user-attachments/assets/208ccccb-7686-4032-b7ec-85b7d0d434af" />

**We list the directory and see that there is a binary with root permissions which, when executed, does nothing more than greet us.**

<img width="474" height="77" alt="2" src="https://github.com/user-attachments/assets/e73a2452-3475-4cdd-a999-d6a52317012e" />

Through social engineering, we know that /root/archive.txt contains the information we need to obtain access to SQL databases and additional servers that are part of the network we are analyzing (we could also assume we want a reverse shell as root, but thatâ€™s not the case).

**Now we will open gdb to calculate the return address as explained in step 5.**

<img width="621" height="291" alt="3" src="https://github.com/user-attachments/assets/019df995-88d7-4481-bc62-46f0a7a6378c" />

**We save our shellcode to a file as explained in step 6.**

<img width="511" height="139" alt="4" src="https://github.com/user-attachments/assets/ace59762-299d-4aab-acce-36d347346998" />

**We execute our payload using the information we created and gathered.**

<img width="1282" height="71" alt="5" src="https://github.com/user-attachments/assets/c633ee08-56a5-4ea0-b353-d287fb8508eb" />

**This time, as we can see in the image below, we did not receive a welcome message.**

<img width="1282" height="807" alt="6" src="https://github.com/user-attachments/assets/a988229a-6c66-48be-955f-8c6806ad81ad" />


The contents of the root file are shown on stdout. This means we were able to access a file for which we did not have permissions.
